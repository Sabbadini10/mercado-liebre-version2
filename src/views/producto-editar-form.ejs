<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('partials/head', {title: 'Editando: ' + producto.name}) %>
<body>
	<!-- Header -->
	<%- include('partials/headerNavbar') %>
	<!-- /Header -->

	<div class="container products-wrapper">
		<div class="row">
			<div class="col-12">
				<h2 class="products-title">Estás editando: <i><%= producto.name%></i></h2>
			</div>
		</div>
		<div class="col-12">
			
			<form action="/productos/editar/<%= producto.id %>?_method=PUT" method="POST">
				<div class="row product-detail">
					<div class="col-12 col-md-6">
						<label for="name" class="form-label">Nombre del producto:</label>
						<input type="text" class="form-input" id="name" name="name" value="<%= producto.name %>">
						<small class="text-danger"><%= locals.errors && errors.name ? errors.name.msg : null %></small>
					</div>
					<div class="col-12 col-md-6">
						<label for="price" class="form-label">Precio del producto:</label>
						<input type="text" class="form-input" id="price" name="price" value="<%= producto.price %>">
						<small class="text-danger"><%= locals.errors && errors.price ? errors.price.msg : null %></small>
					</div>
					<div class="col-12 col-md-6">
						<label for="discount" class="form-label">Descuento:</label>
						<input type="text" class="form-input" id="discount" name="discount" value="<%= producto.discount %>">
						<small class="text-danger"><%= locals.errors && errors.discount ? errors.discount.msg : null %></small>
					</div>
					<div class="col-12 col-md-6">
						<label for="category" class="form-label">Categoría:</label>
						<select class="form-input <%= locals.errors && errors.category ? 'is-invalid' : null  %>" aria-label="Default select example" id="category" name="category">
							<% categorias.forEach(category => { %>
								<option value="<%= category %>" <%= category === producto.category ? 'selected' : null %>><%= category %></option>
							<% }) %>
				
						  </select>
					</div>
					<div class="col-12">
						<label for="description" class="form-label">Descripción:%></label>
						<textarea class="form-input <%= locals.errors && errors.description ? 'is-invalid' : null  %>" id="description" name="description" rows="3" style="resize: none;"><%= locals.old && old.description ? old.description : null %></textarea>
                            <small class="text-danger"><%= locals.errors && errors.description ? errors.description.msg : null %></small>
					</div>
					<div class="col-12">
						<button type="submit" class="buy-now-button">Guardar producto</button>
					</div>
				</div>
			</form>
		</div>

	</div>
	<!-- /todos los productos -->

	<!-- footer -->
	<%- include('partials/footer') %>
	<!-- /footer -->
</body>	
</html>